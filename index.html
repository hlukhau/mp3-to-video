<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Generator - –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–¥–µ–æ –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üé¨ Video Generator</h1>
            <p>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –≤–∏–¥–µ–æ –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏ –∏ –∞—É–¥–∏–æ–¥–æ—Ä–æ–∂–∫–æ–π</p>
        </header>

        <main>
            <!-- Project Creation Section -->
            <section class="project-section">
                <h2>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç</h2>
                <div class="project-controls">
                    <input type="text" id="projectName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞" class="input-field">
                    <button id="createProject" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç</button>
                    <label for="importProject" class="btn btn-secondary" style="cursor:pointer; margin-left:8px;">
                        üìÇ –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
                    </label>
                    <input type="file" id="importProject" accept="application/json" style="display:none;">
                </div>
                <div id="currentProject" class="current-project" style="display: none;">
                    <h3>–¢–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç: <span id="projectTitle"></span></h3>
                    <div class="project-io" style="display:flex; gap:12px; flex-wrap:wrap;">
                        <button id="saveProject" class="btn btn-secondary">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–µ–∫—Ç</button>
                    </div>
                </div>
            </section>

            <!-- Audio Upload Section (moved above images) -->
            <section class="audio-section">
                <h2>–î–æ–±–∞–≤–∏—Ç—å –∞—É–¥–∏–æ–¥–æ—Ä–æ–∂–∫—É</h2>
                <div class="audio-upload">
                    <input type="file" id="audioUpload" accept="audio/*" class="file-input">
                    <label for="audioUpload" class="upload-label">
                        <div class="upload-icon">üéµ</div>
                        <p>–í—ã–±–µ—Ä–∏—Ç–µ –∞—É–¥–∏–æ—Ñ–∞–π–ª</p>
                    </label>
                </div>
                <div id="audioPlayer" class="audio-player" style="display: none;">
                    <audio controls id="audioElement"></audio>
                    <p id="audioFileName"></p>
                </div>
            </section>

            <!-- Media Upload Section -->
            <section class="upload-section">
                <h2>–î–æ–±–∞–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –≤–∏–¥–µ–æ</h2>
                <div class="upload-area">
                    <input type="file" id="mediaUpload" multiple accept="image/*,video/*" class="file-input">
                    <label for="mediaUpload" class="upload-label">
                        <div class="upload-icon">üìÅ</div>
                        <p>–í—ã–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –≤–∏–¥–µ–æ—Ñ–∞–π–ª—ã –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∏—Ö —Å—é–¥–∞</p>
                        <small>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è: JPG, PNG, GIF, MP4, WebM, MOV</small>
                    </label>
                </div>
                <div id="mediaList" class="media-list"></div>
            </section>

            <!-- Subtitles Section -->
            <section class="subtitles-section">
                <h2>–¢–∏—Ç—Ä—ã</h2>
                <div class="subtitles-controls" style="display:flex; flex-direction:column; gap:12px; align-items:stretch;">
                    <div class="control">
                        <label for="subtitleText">–¢–µ–∫—Å—Ç:</label>
                        <input type="text" id="subtitleText" class="input-field" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —Ç–∏—Ç—Ä–æ–≤">
                    </div>
                    <div class="control">
                        <label for="subtitleStart">–ù–∞—á–∞–ª–æ (MM:SS):</label>
                        <input type="text" id="subtitleStart" class="input-field" placeholder="00:05" pattern="[0-9]{1,2}:[0-9]{2}">
                    </div>
                    <div class="control">
                        <label for="subtitleDuration">–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (—Å–µ–∫):</label>
                        <input type="number" id="subtitleDuration" class="input-field" min="1" max="300" value="5">
                    </div>
                    <button id="addSubtitle" class="btn btn-secondary">–î–æ–±–∞–≤–∏—Ç—å —Ç–∏—Ç—Ä</button>
                </div>
                <div id="subtitleList" class="subtitle-list" style="margin-top:12px;"></div>
            </section>

            <!-- Timeline Section -->
            <section class="timeline-section">
                <h2>–í—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞</h2>
                <div class="timeline-controls">
                    <label>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–∏–¥–µ–æ (—Å–µ–∫): 
                        <input type="number" id="videoDuration" value="30" min="1" max="300" class="input-field">
                    </label>
                    <div class="time-format-info">
                        <small>üí° –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ <strong>MM:SS</strong> (–Ω–∞–ø—Ä–∏–º–µ—Ä: 01:30)</small>
                    </div>
                </div>
                <div id="timeline" class="timeline"></div>
            </section>

            <!-- Video Generation Section -->
            <section class="generation-section">
                <h2>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∏–¥–µ–æ</h2>
                <div class="video-settings">
                    <div class="setting-group">
                        <label>–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ:</label>
                        <select id="videoResolution" class="select-field">
                            <option value="1920x1080">1920x1080 (Full HD)</option>
                            <option value="1280x720">1280x720 (HD)</option>
                            <option value="854x480">854x480 (SD)</option>
                            <option value="640x360">640x360 (360p) - –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç</option>
                            <option value="426x240">426x240 (240p) - –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ</option>
                        </select>
                    </div>
                    <div class="setting-group">
                        <label>FPS:</label>
                        <select id="videoFPS" class="select-field">
                            <option value="30">30 FPS</option>
                            <option value="24">24 FPS</option>
                            <option value="60">60 FPS</option>
                        </select>
                    </div>
                    <div class="setting-group">
                        <label>–≠—Ñ—Ñ–µ–∫—Ç –≤–∏–¥–µ–æ:</label>
                        <select id="videoEffect" class="select-field">
                            <option value="none">–ë–µ–∑ —ç—Ñ—Ñ–µ–∫—Ç–∞</option>
                            <option value="film">–°—Ç–∞—Ä–∞—è –ø–ª–µ–Ω–∫–∞</option>
                            <option value="film_marks">–ü–ª–µ–Ω–∫–∞ (–∫—Ä—É–∂–∫–∏/—Å—Ç—Ä–µ–ª–∫–∏)</option>
                            <option value="rain">–î–æ–∂–¥—å</option>
                            <option value="clouds">–û–±–ª–∞–∫–∞</option>
                            <option value="fireworks">–°–∞–ª—é—Ç</option>
                            <option value="stars">–ü–ª—ã–≤—É—â–∏–µ –∑–≤–µ–∑–¥—ã</option>
                            <option value="galaxy">–ó–≤–µ–∑–¥–Ω–æ–µ –Ω–µ–±–æ (–≥–∞–ª–∞–∫—Ç–∏–∫–∞)</option>
                        </select>
                    </div>
                    <div class="setting-group">
                        <label for="effectIntensity">–ù–∞—Å—ã—â–µ–Ω–Ω–æ—Å—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∞:</label>
                        <input id="effectIntensity" type="range" min="0" max="100" value="50" class="seeker">
                    </div>
                    <div class="setting-group" style="flex:1 1 100%;">
                        <label for="copyrightText">–¢–µ–∫—Å—Ç –∫–æ–ø–∏—Ä–∞–π—Ç–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):</label>
                        <input id="copyrightText" type="text" class="input-field" placeholder="¬© 2025 –í–∞—à–µ –∏–º—è / –±—Ä–µ–Ω–¥">
                    </div>
                </div>
                <button id="generateVideo" class="btn btn-generate" disabled>
                    <span class="btn-text">–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–∏–¥–µ–æ</span>
                    <div class="loading-spinner" style="display: none;"></div>
                </button>
                <div id="progress" class="progress-container" style="display: none;">
                    <div class="progress-bar">
                        <div class="progress-fill"></div>
                    </div>
                    <p class="progress-text">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∏–¥–µ–æ: <span id="progressPercent">0%</span></p>
                </div>
            </section>

            <!-- Preview Section -->
            <section class="preview-section">
                <h2>–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä</h2>
                <div id="previewContainer" class="preview-container">
                    <canvas id="previewCanvas" width="640" height="360"></canvas>
                    <div class="preview-controls">
                        <button id="playPreview" class="btn btn-secondary">‚ñ∂ –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏</button>
                        <button id="pausePreview" class="btn btn-secondary">‚è∏ –ü–∞—É–∑–∞</button>
                        <div class="time-display">
                            <span id="currentTime">00:00</span> / <span id="totalTime">00:00</span>
                        </div>
                        <input type="range" id="previewSeeker" min="0" max="100" value="0" class="seeker">
                    </div>
                </div>
            </section>

            <!-- Result Section -->
            <section class="result-section" style="display: none;">
                <h2>–ì–æ—Ç–æ–≤–æ–µ –≤–∏–¥–µ–æ</h2>
                <div id="videoResult" class="video-result">
                    <video id="resultVideo" controls width="640" height="360"></video>
                    <div class="result-actions">
                        <button id="downloadVideo" class="btn btn-success">‚¨á –°–∫–∞—á–∞—Ç—å –≤–∏–¥–µ–æ</button>
                        <button id="createNewProject" class="btn btn-secondary">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç</button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>
